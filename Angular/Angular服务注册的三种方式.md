# Angular服务注册的三种方式

在Angular项目中，注册引用一个服务有三种方式：
- 服务内部注册
- 全局注册
- 局部注册

## 1.服务内部注册
在创建服务后，通过@Injectable装饰器的provideIn属性进行注册。provideIn有以下取值：
- root 表示选择的是根注入器，根注入器在整个Web应用程序中仅创建服务的一个单例对象，可以把这个单例对象注入任何想要它的类中；
- platform 表示选择的是元素注入器，元素注入器使服务可以在整个Web应用程序和Angular自定义元素，简单地理解就是将Angular组件的所有功能打包为原生的HTML，可以供其他非Angular框架使用，因此作用域大于root;
- any 表示选择器的模块注入器，这意味中同一服务可能有多个实例

Angular CLI指令自动生成的provideIn即为root。只需要在组件、服务或指令中引入后，构造函数中申明后即可使用。

## 2.全局注册
在@NgModule装饰器的providers元数据中注册服务。注册后整个模块下所有的组件、指令中都可以使用。

此种情况下，服务内部可以不需要申明provideIn元数据的值。

## 3.局部注册
局部注册可以在组件的内部进行。在@Component装饰器的providers元数据中注册。注册后当前组件中可以使用该服务。

此种情况下，同样服务内部可以不需要申明provideIn元数据的值。